<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LifeSmart Assistant - ุฏุณุชุงุฑ ููุดููุฏ ุฒูุฏฺฏ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- ูุญุชูุง ุงุตู -->
    <div class="app-container">
        <!-- ูุฏุฑ -->
        <header class="main-header">
            <div class="logo-container">
                <div class="logo-icon">๐ค</div>
                <div class="logo-text">
                    <h1>LifeSmart Assistant</h1>
                    <p>ุฏุณุชุงุฑ ููุดููุฏ ุฒูุฏฺฏ ุดูุง</p>
                </div>
            </div>
        </header>

        <!-- ุฌุณุชุฌู -->
        <div class="search-container">
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" 
                       placeholder="ูุดฺฉูุช ุฑู ุงูุฌุง ุจููุณ (ูุซุงู: ุณุฑุฏุฑุฏ ุฏุงุฑูุ ูพูู ฺฉู ุขูุฑุฏูโุงู...)">
                <button class="search-btn" onclick="searchProblem()">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>

        <!-- ุฏฺฉููโูุง ุงุตู -->
        <div class="main-buttons">
            <button class="main-btn health" onclick="showCategory('health')">
                <i class="fas fa-heartbeat"></i>
                <span>ุณูุงูุช ู ูพุฒุดฺฉ</span>
            </button>
            
            <button class="main-btn finance" onclick="showCategory('finance')">
                <i class="fas fa-money-bill-wave"></i>
                <span>ูุงู ู ุงูุชุตุงุฏ</span>
            </button>
            
            <button class="main-btn family" onclick="showCategory('family')">
                <i class="fas fa-home"></i>
                <span>ุฎุงููุงุฏู ู ุฑูุงุจุท</span>
            </button>
            
            <button class="main-btn education" onclick="showCategory('education')">
                <i class="fas fa-graduation-cap"></i>
                <span>ุขููุฒุด ู ููุงุฑุช</span>
            </button>
        </div>

        <!-- ุฏุณุชุงุฑ ุตูุช -->
        <div class="voice-assistant">
            <h3><i class="fas fa-microphone"></i> ุฏุณุชุงุฑ ุตูุช</h3>
            <p>ูุดฺฉูุช ุฑู ุจฺฏูุ ูุง ุฑุงูโุญูุด ุฑู ูพุฏุง ูโฺฉูู</p>
            
            <button class="voice-btn" id="voiceButton" onclick="toggleVoiceAssistant()">
                <i class="fas fa-microphone"></i>
            </button>
            
            <div id="voiceStatus">ุฑู ุฏฺฉูู ฺฉูฺฉ ฺฉู ู ุตุญุจุช ฺฉู</div>
            <div id="voiceOutput"></div>
        </div>

        <!-- ูุชุงุฌ -->
        <div class="results-container" id="resultsContainer">
            <h3><i class="fas fa-lightbulb"></i> ุฑุงูโุญูโูุง ูพุดููุงุฏ</h3>
            <div id="solutionsList"></div>
        </div>

        <!-- ููุชุฑ -->
        <footer class="main-footer">
            <p>ยฉ 2024 LifeSmart Assistant - ูุณุฎู ฑ.ฐ.ฐ</p>
        </footer>

        <!-- ุฏฺฉูู ุงูุฑฺุงูุณ -->
        <button class="emergency-button" onclick="showEmergency()">
            <i class="fas fa-ambulance"></i>
            <span>ฺฉูฺฉ ููุฑ ุงูุฑฺุงูุณ ๐จ</span>
        </button>
    </div>

    <script src="knowledge-base.js"></script>
    <script src="app.js"></script>
    <script src="voice-service.js"></script>
</body>
</html>

:root {
    --primary-green: #4CAF50;
    --primary-blue: #2196F3;
    --primary-white: #FFFFFF;
    --light-green: #C8E6C9;
    --light-blue: #BBDEFB;
    --emergency-red: #F44336;
    --health-pink: #E91E63;
    --finance-gold: #FF9800;
    --education-indigo: #3F51B5;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Vazirmatn', 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
    min-height: 100vh;
    color: #333;
}

.app-container {
    max-width: 100%;
    min-height: 100vh;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 0;
    overflow-x: hidden;
}

.main-header {
    background: linear-gradient(90deg, var(--primary-green), var(--primary-blue));
    color: white;
    padding: 20px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.logo-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin-bottom: 10px;
}

.logo-icon {
    font-size: 48px;
    background: white;
    color: var(--primary-green);
    width: 70px;
    height: 70px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.logo-text h1 {
    font-size: 1.8rem;
    margin-bottom: 5px;
}

.logo-text p {
    font-size: 1rem;
    opacity: 0.9;
}

.emergency-button {
    position: fixed;
    bottom: 100px;
    left: 20px;
    right: 20px;
    background: var(--emergency-red);
    color: white;
    border: none;
    padding: 20px;
    border-radius: 15px;
    font-size: 1.3rem;
    font-weight: bold;
    box-shadow: 0 8px 25px rgba(244, 67, 54, 0.4);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    cursor: pointer;
    transition: all 0.3s;
}

.emergency-button:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 30px rgba(244, 67, 54, 0.6);
}

.main-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    padding: 20px;
    margin-top: 20px;
}

.main-btn {
    background: white;
    border: 2px solid var(--light-blue);
    border-radius: 12px;
    padding: 25px 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
}

.main-btn:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
}

.main-btn i {
    font-size: 2.5rem;
}

.main-btn.health { border-color: var(--health-pink); color: var(--health-pink); }
.main-btn.finance { border-color: var(--finance-gold); color: var(--finance-gold); }
.main-btn.family { border-color: var(--primary-green); color: var(--primary-green); }
.main-btn.education { border-color: var(--primary-blue); color: var(--primary-blue); }

.voice-assistant {
    background: linear-gradient(135deg, var(--light-blue), var(--light-green));
    margin: 20px;
    padding: 25px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 6px 15px rgba(33, 150, 243, 0.2);
}

.voice-btn {
    background: var(--primary-blue);
    color: white;
    border: none;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    font-size: 2rem;
    cursor: pointer;
    margin: 15px auto;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s;
    box-shadow: 0 6px 20px rgba(33, 150, 243, 0.3);
}

.voice-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 10px 25px rgba(33, 150, 243, 0.4);
}

.voice-btn.listening {
    animation: pulse 1.5s infinite;
    background: var(--emergency-red);
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

.search-container {
    padding: 20px;
}

.search-box {
    display: flex;
    gap: 10px;
}

.search-input {
    flex: 1;
    padding: 15px;
    border: 2px solid var(--light-blue);
    border-radius: 10px;
    font-size: 1rem;
    font-family: inherit;
}

.search-btn {
    background: var(--primary-green);
    color: white;
    border: none;
    padding: 0 25px;
    border-radius: 10px;
    font-size: 1.2rem;
    cursor: pointer;
}

.results-container {
    padding: 20px;
    display: none;
}

.solution-card {
    background: white;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    border-right: 5px solid var(--primary-green);
}

.solution-card.emergency {
    border-right-color: var(--emergency-red);
    background: #FFF5F5;
}

.step {
    margin: 10px 0;
    padding-right: 15px;
    position: relative;
}

.step:before {
    content: "โข";
    color: var(--primary-blue);
    font-size: 1.5rem;
    position: absolute;
    right: 0;
}

.main-footer {
    text-align: center;
    padding: 20px;
    color: #666;
    font-size: 0.9rem;
    border-top: 1px solid #eee;
    margin-top: 40px;
}

@media (max-width: 480px) {
    .main-buttons {
        grid-template-columns: 1fr;
    }
    
    .logo-text h1 {
        font-size: 1.5rem;
    }
}
// LifeSmart Assistant - ููุทู ุงุตู ุจุฑูุงูู

// ุฌุณุชุฌู ูุดฺฉู
function searchProblem() {
    const query = document.getElementById('searchInput').value.trim();
    if (!query) {
        alert('ูุทูุงู ูุดฺฉู ุฎูุฏ ุฑุง ุจููุณุฏ');
        return;
    }
    
    showLoading('ุฏุฑ ุญุงู ุฌุณุชุฌู ุฑุงูโุญู...');
    
    setTimeout(() => {
        findSolutions(query);
    }, 800);
}

function findSolutions(query) {
    let foundSolutions = [];
    const lowerQuery = query.toLowerCase();
    
    // ุฌุณุชุฌู ุฏุฑ ูพุงฺฏุงู ุฏุงูุด
    for (const category in knowledgeBase) {
        for (const problem in knowledgeBase[category]) {
            if (problem.includes(lowerQuery) || lowerQuery.includes(problem)) {
                foundSolutions.push({
                    ...knowledgeBase[category][problem],
                    category: category
                });
            }
        }
    }
    
    // ุงฺฏุฑ ฺุฒ ูพุฏุง ูุดุฏ
    if (foundSolutions.length === 0) {
        foundSolutions = getGenericSolutions(query);
    }
    
    displaySolutions(foundSolutions, query);
}

function getGenericSolutions(query) {
    if (query.includes('ุณุฑุฏ') || query.includes('ุฏุฑุฏ')) {
        return [knowledgeBase.health['ุณุฑุฏุฑุฏ']];
    } else if (query.includes('ูพูู') || query.includes('ุฎุฑุฌ')) {
        return [knowledgeBase.finance['ูพูู ฺฉู']];
    }
    
    return [{
        title: "ุฑุงูููุง ุนููู",
        emergency: false,
        steps: [
            "ูุดฺฉู ุฎูุฏ ุฑุง ุฏููโุชุฑ ุชูุถุญ ุฏูุฏ",
            "ูโุชูุงูุฏ ุงุฒ ุฏุณุชูโุจูุฏโูุง ุจุงูุง ุงุณุชูุงุฏู ฺฉูุฏ",
            "ุง ุจุง ุฏุณุชุงุฑ ุตูุช ุตุญุจุช ฺฉูุฏ"
        ]
    }];
}

function displaySolutions(solutions, originalQuery) {
    const container = document.getElementById('solutionsList');
    const resultsContainer = document.getElementById('resultsContainer');
    
    container.innerHTML = '';
    
    if (solutions.length === 0) {
        container.innerHTML = `
            <div class="solution-card">
                <h4>ุฑุงูโุญู ุงูุช ูุดุฏ</h4>
                <p>ุจุฑุง ูุดฺฉู "${originalQuery}" ุฑุงูโุญู ุฏุฑ ูพุงฺฏุงู ูุง ูุณุช.</p>
                <p>ูโุชูุงูุฏ:</p>
                <div class="step">ุจุง ุงูุฑฺุงูุณ ฑฑต ุชูุงุณ ุจฺฏุฑุฏ</div>
                <div class="step">ุจู ูพุฒุดฺฉ ูุฑุงุฌุนู ฺฉูุฏ</div>
                <div class="step">ุณูุงู ุฎูุฏ ุฑุง ุฏุฑ ุจุฎุด ูุดุงูุฑู ุจูพุฑุณุฏ</div>
            </div>
        `;
    } else {
        solutions.forEach((solution, index) => {
            const card = document.createElement('div');
            card.className = `solution-card ${solution.emergency ? 'emergency' : ''}`;
            
            let stepsHTML = '';
            solution.steps.forEach((step, i) => {
                stepsHTML += `<div class="step">${i+1}. ${step}</div>`;
            });
            
            card.innerHTML = `
                <h4>${solution.title}</h4>
                ${solution.warning ? `<div style="background: #FFF3CD; padding: 10px; border-radius: 5px; margin: 10px 0; border-right: 3px solid #FFC107;">
                    โ๏ธ ${solution.warning}
                </div>` : ''}
                <div style="margin-top: 15px;">
                    ${stepsHTML}
                </div>
            `;
            
            container.appendChild(card);
        });
    }
    
    resultsContainer.style.display = 'block';
    resultsContainer.scrollIntoView({ behavior: 'smooth' });
}

function showCategory(category) {
    const categories = {
        health: 'ุณูุงูุช ู ูพุฒุดฺฉ',
        finance: 'ูุงู ู ุงูุชุตุงุฏ',
        family: 'ุฎุงููุงุฏู ู ุฑูุงุจุท',
        education: 'ุขููุฒุด ู ููุงุฑุช'
    };
    
    document.getElementById('searchInput').value = categories[category];
    searchProblem();
}

function showEmergency() {
    const solutions = [knowledgeBase.emergency['ุณฺฉุชู ููุจ']];
    displaySolutions(solutions, 'ุงูุฑฺุงูุณ');
    
    setTimeout(() => {
        const emergencyNumbers = document.createElement('div');
        emergencyNumbers.className = 'solution-card emergency';
        emergencyNumbers.innerHTML = `
            <h4>๐ ุดูุงุฑูโูุง ุงุถุทุฑุงุฑ</h4>
            <div class="step" style="color: var(--emergency-red); font-weight: bold;">
                ฑฑต - ุงูุฑฺุงูุณ ูพุฒุดฺฉ
            </div>
            <div class="step" style="color: var(--emergency-red); font-weight: bold;">
                ฑฒต - ุขุชุดโูุดุงู
            </div>
            <div class="step" style="color: var(--emergency-red); font-weight: bold;">
                ฑฑฐ - ูพูุณ
            </div>
            <div class="step" style="color: var(--emergency-red); font-weight: bold;">
                ฑฒณ - ููุงู ุงุญูุฑ
            </div>
            <div style="margin-top: 15px; padding: 10px; background: #FFEBEE; border-radius: 5px;">
                <strong>ุชูุตู:</strong> ุงู ุดูุงุฑูโูุง ุฑุง ุฏุฑ ฺฏูุด ุฎูุฏ ุฐุฎุฑู ฺฉูุฏ
            </div>
        `;
        
        document.getElementById('solutionsList').prepend(emergencyNumbers);
    }, 100);
}

function showLoading(message) {
    const container = document.getElementById('solutionsList');
    container.innerHTML = `
        <div style="text-align: center; padding: 40px;">
            <div style="border: 3px solid #f3f3f3; border-top: 3px solid var(--primary-blue); 
                  border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div>
            <p>${message}</p>
        </div>
        <style>
            @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        </style>
    `;
    
    document.getElementById('resultsContainer').style.display = 'block';
}
// ูพุงฺฏุงู ุฏุงูุด LifeSmart Assistant
const knowledgeBase = {
    health: {
        "ุณุฑุฏุฑุฏ": {
            title: "ุณุฑุฏุฑุฏ - ุฑุงูโุญูโูุง ููุฑ",
            emergency: false,
            steps: [
                "ฒ ููุงู ุขุจ ุจููุดุฏ (ฺฉูโุขุจ ุนุงูู ุดุงุน ุณุฑุฏุฑุฏ ุงุณุช)",
                "ุฏุฑ ฺฉ ุงุชุงู ุชุงุฑฺฉ ู ุณุงฺฉุช ุงุณุชุฑุงุญุช ฺฉูุฏ",
                "ุดูููโูุง ุฎูุฏ ุฑุง ุจู ุขุฑุงู ูุงุณุงฺ ุฏูุฏ",
                "ุงุฒ ฺฉููพุฑุณ ุณุฑุฏ ุฑู ูพุดุงู ุงุณุชูุงุฏู ฺฉูุฏ",
                "ุงฺฏุฑ ุงุฏุงูู ุฏุงุดุช: ุงุณุชุงููููู ุง ุงุจููพุฑููู ูุตุฑู ฺฉูุฏ"
            ],
            warning: "ุงฺฏุฑ ุณุฑุฏุฑุฏ ุจุง ุชุงุฑ ุฏุฏุ ุงุณุชูุฑุงุบ ุง ุชุจ ููุฑุงู ุจูุฏุ ููุฑุงู ุจู ูพุฒุดฺฉ ูุฑุงุฌุนู ฺฉูุฏ"
        },
        "ุฏุฑุฏ ูุนุฏู": {
            title: "ุฏุฑุฏ ูุนุฏู ู ุฏูโูพฺู",
            emergency: false,
            steps: [
                "ฺุง ูุนูุงุน ุง ุจุงุจููู ุจููุดุฏ",
                "ุงุฒ ุบุฐุงูุง ุณูฺฏู ูพุฑูุฒ ฺฉูุฏ",
                "ุญููู ฺฏุฑู ุฑู ุดฺฉู ูุฑุงุฑ ุฏูุฏ",
                "ุจู ุขุฑุงู ุดฺฉู ุฎูุฏ ุฑุง ูุงุณุงฺ ุฏูุฏ"
            ]
        },
        "ุชุจ": {
            title: "ุชุจ ู ฺฏุฑูุง ุจุฏู",
            emergency: false,
            steps: [
                "ุงุณุชุงููููู ุง ุงุจููพุฑููู ูุตุฑู ฺฉูุฏ",
                "ูุงุนุงุช ูุฑุงูุงู ุจููุดุฏ",
                "ูุจุงุณ ุณุจฺฉ ุจูพูุดุฏ",
                "ูพุงุดูู ุจุง ุขุจ ููุฑู ุงูุฌุงู ุฏูุฏ"
            ],
            warning: "ุงฺฏุฑ ุชุจ ุจุงูุง ณน ุฏุฑุฌู ุง ุจุดุชุฑ ุงุฒ ณ ุฑูุฒ ุงุฏุงูู ุฏุงุดุชุ ุจู ูพุฒุดฺฉ ูุฑุงุฌุนู ฺฉูุฏ"
        }
    },
    
    finance: {
        "ูพูู ฺฉู": {
            title: "ูุฏุฑุช ูุงู ุจุง ุฏุฑุขูุฏ ฺฉู",
            emergency: false,
            steps: [
                "ูุณุช ุชูุงู ูุฒููโูุง ูุงูุงูู ุฑุง ุจููุณุฏ",
                "ูุฒููโูุง ุบุฑุถุฑูุฑ (ูุซู ุงุดุชุฑุงฺฉโูุง ุงุถุงู) ุฑุง ุญุฐู ฺฉูุฏ",
                "ุจูุฏุฌูโุจูุฏ ฺฉูุฏ: ตฐูช ูุงุฒูุงุ ณฐูช ุฎูุงุณุชูโูุงุ ฒฐูช ูพุณโุงูุฏุงุฒ",
                "ุจุฑุง ุฎุฑุฏูุง ุจุฒุฑฺฏ ุญุฏุงูู ฒด ุณุงุนุช ุตุจุฑ ฺฉูุฏ",
                "ููุงุฑุช ุฌุฏุฏ ุงุฏ ุจฺฏุฑุฏ ฺฉู ุฏุฑุขูุฏ ุงุถุงูู ุงุฌุงุฏ ฺฉูุฏ"
            ]
        },
        "ุจุฏู": {
            title: "ูุฏุฑุช ุจุฏู ู ูุฑุถ",
            emergency: false,
            steps: [
                "ุชูุงู ุจุฏูโูุง ุฎูุฏ ุฑุง ูุณุช ฺฉูุฏ",
                "ฺฉูฺฺฉโุชุฑู ุจุฏู ุฑุง ุงูู ูพุฑุฏุงุฎุช ฺฉูุฏ",
                "ุจุง ุทูุจฺฉุงุฑุงู ุจุฑุง ุจุงุฒูพุฑุฏุงุฎุช ูุฐุงฺฉุฑู ฺฉูุฏ",
                "ุงุฒ ูุงู ุฌุฏุฏ ุจุฑุง ูพุฑุฏุงุฎุช ูุงู ูุฏู ุฎูุฏุฏุงุฑ ฺฉูุฏ"
            ]
        }
    },
    
    emergency: {
        "ุณฺฉุชู ููุจ": {
            title: "ุนูุงุฆู ุณฺฉุชู ููุจ - ุงูุฏุงู ููุฑ",
            emergency: true,
            steps: [
                "ุจุง ุดูุงุฑู ฑฑต ุชูุงุณ ููุฑ ุจฺฏุฑุฏ",
                "ุจูุงุฑ ุฑุง ุฏุฑ ุญุงูุช ูููโูุดุณุชู ูุฑุงุฑ ุฏูุฏ",
                "ูุจุงุณโูุง ุชูฺฏ ุฑุง ุจุงุฒ ุง ุฏุฑุขูุฑุฏ",
                "ุงฺฏุฑ ูุฑุต ุฒุฑุฒุจุงู (ูุชุฑูฺฏูุณุฑู) ุฏุงุฑุฏุ ุงุณุชูุงุฏู ฺฉูุฏ",
                "ุขุณูพุฑู ณฒต ููโฺฏุฑู ุจุฌูุฏ (ุงฺฏุฑ ุญุณุงุณุช ูุฏุงุฑุฏ)",
                "ุชุง ุฑุณุฏู ุงูุฑฺุงูุณ ฺฉูุงุฑ ุจูุงุฑ ุจูุงูุฏ"
            ],
            warning: "ูุฑ ุฏููู ุฏุฑ ุณฺฉุชู ููุจ ุญุงุช ุงุณุช - ูุนุทู ูฺฉูุฏ!"
        },
        "ุฎููุฑุฒ ุดุฏุฏ": {
            title: "ฺฉูุชุฑู ุฎููุฑุฒ ุดุฏุฏ",
            emergency: true,
            steps: [
                "ุจุง ฑฑต ุชูุงุณ ุจฺฏุฑุฏ",
                "ุฑู ุฒุฎู ูุดุงุฑ ูุณุชูู ูุงุฑุฏ ฺฉูุฏ",
                "ุงฺฏุฑ ููฺฉู ุงุณุชุ ูุญู ุฒุฎู ุฑุง ุจุงูุง ูฺฏู ุฏุงุฑุฏ",
                "ุงุฒ ุชูุฑูฺฉู ููุท ุฏุฑ ููุงุฑุฏ ูุทุน ุนุถู ุงุณุชูุงุฏู ฺฉูุฏ",
                "ุขุฑุงูุด ุฎูุฏ ุฑุง ุญูุธ ฺฉูุฏ"
            ]
        }
    }
};// ุฏุณุชุงุฑ ุตูุช LifeSmart Assistant
let isListening = false;

function toggleVoiceAssistant() {
    const voiceBtn = document.getElementById('voiceButton');
    const voiceStatus = document.getElementById('voiceStatus');
    const voiceOutput = document.getElementById('voiceOutput');
    
    if (!isListening) {
        startVoiceRecognition();
        voiceBtn.classList.add('listening');
        voiceBtn.innerHTML = '<i class="fas fa-stop"></i>';
        voiceStatus.textContent = 'ุฏุฑ ุญุงู ฺฏูุด ุฏุงุฏู... ุตุญุจุช ฺฉูุฏ';
        voiceOutput.style.display = 'block';
        voiceOutput.innerHTML = '<p style="color: #666;">ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด ุตุฏุง...</p>';
        isListening = true;
    } else {
        stopVoiceRecognition();
        voiceBtn.classList.remove('listening');
        voiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
        voiceStatus.textContent = 'ุฑู ุฏฺฉูู ฺฉูฺฉ ฺฉู ู ุตุญุจุช ฺฉู';
        isListening = false;
    }
}

function startVoiceRecognition() {
    // ุดุจูโุณุงุฒ ุชุดุฎุต ุตุฏุง ูุงุฑุณ
    // ุฏุฑ ูุณุฎู ูุงูุน ุงุฒ Web Speech API ุงุณุชูุงุฏู ูโุดูุฏ
    setTimeout(() => {
        const simulatedText = "ุณุฑุฏุฑุฏ ุฏุงุฑู ฺู ฺฉุงุฑ ฺฉูู";
        document.getElementById('voiceOutput').innerHTML = `
            <p><strong>ุชุดุฎุต ุฏุงุฏู:</strong> "${simulatedText}"</p>
            <button onclick="processVoiceCommand('${simulatedText}')" 
                    style="background: var(--primary-green); color: white; border: none; padding: 8px 15px; border-radius: 5px; margin-top: 10px;">
                ูพุฏุง ฺฉุฑุฏู ุฑุงูโุญู
            </button>
        `;
    }, 2000);
}

function stopVoiceRecognition() {
    document.getElementById('voiceOutput').innerHTML = 
        '<p>ุฏุณุชุงุฑ ุตูุช ูุชููู ุดุฏ. ุจุฑุง ุดุฑูุน ูุฌุฏุฏ ฺฉูฺฉ ฺฉูุฏ.</p>';
}

function processVoiceCommand(command) {
    document.getElementById('searchInput').value = command;
    searchProblem();
}
{
  "name": "LifeSmart Assistant",
  "short_name": "LifeSmart",
  "description": "ุฏุณุชุงุฑ ููุดููุฏ ุฒูุฏฺฏ ุจุฑุง ูุดฺฉูุงุช ุฑูุฒูุฑู",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#2196F3",
  "theme_color": "#4CAF50",
  "icons": [
    {
      "src": "icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "icon-512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}